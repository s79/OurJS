<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>components.Dialog</title>
<link rel="stylesheet" href="common.css">
<script src="../our.min.js"></script>
<script src="../src/components/dialog.js"></script>
<style>
body { height: 1500px; }
button.action { margin-top: 20px; padding: 10px 15px; font-size: 14px; }
#dialog_1 { display: none; position: absolute; z-index: 10; width: 600px; height: 400px; background: steelblue; }
#dialog_2 { display: none; position: fixed; left: 20%; top: 20%; z-index: 20; width: 400px; height: 200px; background: mediumorchid; }
</style>
</head>
<body>
<h1>components.Dialog</h1>
<fieldset>
  <legend>对话框出现时遮罩下边的元素不能通过 tab 键获取焦点</legend>
  <input type="button" value="button">
  <input type="text" value="text">
  <a href="#">link</a>
</fieldset>
<fieldset>
  <legend>测试 IE6 中 SELECT 元素的遮盖情况</legend>
  <select>
    <option>SELECT</option>
  </select>
</fieldset>
<p style="clear: both; text-align: center;">
  <button class="action" onclick="dialogOne.open();">dialogOne.open()</button>
</p>
<div id="pin" style="position: relative; top: 100px; width: 800px; height: 500px; background: whitesmoke;">
  <fieldset>
    <legend>对话框出现时遮罩下边的元素不能通过 tab 键获取焦点</legend>
    <input type="button" value="button">
    <input type="text" value="text">
    <a href="#">link</a>
  </fieldset>
  <fieldset>
    <legend>测试 IE6 中 SELECT 元素的遮盖情况</legend>
    <select>
      <option>SELECT</option>
    </select>
  </fieldset>
</div>
<!-- dialog { -->
<div id="dialog_1">
  <fieldset>
    <legend>测试 IE6 中 SELECT 元素的遮盖情况</legend>
    <select>
      <option>SELECT</option>
    </select>
  </fieldset>
  <p style="clear: both; text-align: center;">
    <button class="action" onclick="dialogOne.close();">dialogOne.close()</button>
    <button class="action" onclick="dialogTwo.open();">dialogTwo.open()</button>
  </p>
</div>
<div id="dialog_2">
  <p style="clear: both; text-align: center;">
    <button class="action" onclick="dialogTwo.close();">dialogTwo.close()</button>
  </p>
  <p style="clear: both; text-align: center;">
    <button class="action" onclick="runAnimation(true);">变长</button>
    <button class="action" onclick="runAnimation(false);">变短</button>
  </p>
</div>
<!-- } dialog -->
<script>
//==================================================[test]
//$('#pin').setStyle('position', 'fixed');

var dialogOne = new components.Dialog($('#dialog_1'), {pinnedOffsetX: 200, pinnedOffsetY: 200});
var dialogTwo = new components.Dialog($('#dialog_2'), {});

function runAnimation(flag) {
  dialogTwo.element.animate({height: flag ? 400 : 200}, {
    onPlay: function() {
      dialogTwo.adjust();
    }
  });
}

</script>
</body>
</html>
