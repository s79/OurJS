<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>components.Pagination</title>
<link rel="stylesheet" href="common.css">
<script src="../dev.js"></script>
<script src="../src/components/pagination.js"></script>
<style>
#pagination { font-size: 12px; line-height: 14px; }
#pagination a { display: inline-block; margin: 2px; padding: 2px 5px; border: 1px solid silver; background: gainsboro; color: black; text-decoration: none; }
#pagination a.prev,
#pagination a.next { padding: 2px 10px; }
#pagination a:link,
#pagination a:visited,
#pagination a:active { background: gainsboro; }
#pagination a:hover { background: whitesmoke; }
#pagination a.current,
#pagination a.current:hover { background: white; }
#pagination a.disabled { border-color: gainsboro; background: whitesmoke; color: gainsboro; }
</style>
</head>
<body>
<h1>components.Pagination</h1>
<fieldset>
  <legend>分页导航条</legend>
  <div id="pagination" style="width:500px; margin:200px; text-align:center;"></div>
</fieldset>
<script>
var p;
execute(function($) {
//--------------------------------------------------[pagination]
  var totalRows = 180;
  var pageSize = 10;
  var totalPage = Math.ceil(totalRows / pageSize);
  var currentPage = Math.limit(parseInt(location.parameters.page, 10) || 1, 1, totalPage);
  p = new components.Pagination($('#pagination'), {prevText: '‹', nextText: '›'})
      .on('turn', function(e) {
        alert('loading ' + e.number);
//        location.search = 'page=' + e.number;
        this.render(e.number, totalPage);
      })
      .render(currentPage, totalPage);
});
</script>

</body>
</html>
