<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>components.Switcher</title>
<link rel="stylesheet" href="common.css">
<script src="../import.js"></script>
<script src="../src/components/switcher.js"></script>
<style>
span { float: left; width: 100px; height: 100px; margin: 10px; background: yellowgreen; font: 14px/100px Verdana; text-align: center; }
.active { background: greenyellow; }
</style>
</head>
<body>
<h1>components.Switcher</h1>
<fieldset>
  <legend>点击一个绿色方块将之设置为“活动”状态，点击空白处取消活动元素。</legend>
  <span>〇</span>
  <span>一</span>
  <span>二</span>
  <span>三</span>
  <span>四</span>
  <p id="message" style="clear: both;"></p>
</fieldset>
<script>
//--------------------------------------------------[switcher]
execute(function($) {
  var $message = $('#message');
  var switcher = new components.Switcher($(document.body).find('span'))
      .on('change',
      function(e) {
        e.activeItem && e.activeItem.addClass('active');
        e.inactiveItem && e.inactiveItem.removeClass('active');
        $message.innerText = e.inactiveIndex + ' -> ' + e.activeIndex;
      })
      .active(2);

  document.on('click', function(e) {
    switcher.active(e.target);
  });

});
</script>
</body>
</html>
